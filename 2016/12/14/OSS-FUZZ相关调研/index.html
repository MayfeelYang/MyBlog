<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="记录生活点滴"><title>OSS-FUZZ相关调研 | 菜鸟の日常</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/5.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/MyBlog/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/MyBlog/favicon.ico"><link rel="apple-touch-icon" href="/MyBlog/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/MyBlog/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">OSS-FUZZ相关调研</h1><a id="logo" href="/MyBlog/.">菜鸟の日常</a><p class="description">呆到深处自然萌~</p></div><div id="nav-menu"><a href="/MyBlog/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/MyBlog/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/MyBlog/about/"><i class="fa fa-user"> 关于</i></a><a href="/MyBlog/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">OSS-FUZZ相关调研</h1><div class="post-meta">Dec 14, 2016<span> | </span><span class="category"><a href="/MyBlog/categories/模糊测试/">模糊测试</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#第一次调研"><span class="toc-number">1.</span> <span class="toc-text">第一次调研</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#OSS-Fuzz概况"><span class="toc-number">1.1.</span> <span class="toc-text">OSS-Fuzz概况</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Process-Overview"><span class="toc-number">1.1.1.</span> <span class="toc-text">Process Overview</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Announcing-OSS-Fuzz-Continuous-fuzzing-for-open-source-software"><span class="toc-number">1.2.</span> <span class="toc-text">Announcing OSS-Fuzz: Continuous fuzzing for open source software</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Early-successes"><span class="toc-number">1.2.1.</span> <span class="toc-text">Early successes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Contributions"><span class="toc-number">1.2.2.</span> <span class="toc-text">Contributions</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#。。。。。。继续跟踪调研中。。。。。。。"><span class="toc-number">2.</span> <span class="toc-text">。。。。。。继续跟踪调研中。。。。。。。</span></a></li></ol></div></div><div class="post-content"><h1 id="第一次调研"><a href="#第一次调研" class="headerlink" title="第一次调研"></a>第一次调研</h1><h2 id="OSS-Fuzz概况"><a href="#OSS-Fuzz概况" class="headerlink" title="OSS-Fuzz概况"></a>OSS-Fuzz概况</h2><p>OSS-Fuzz与<a href="https://www.coreinfrastructure.org/" target="_blank" rel="external">Core Infrastructure Initiative</a>合作，目标是希望利用模糊测试技术以及分布式执行技术使开源软件更加安全可靠。<br>在OSS-Fuzz的第一阶段，开发者使用了带有Sanitizer的LibFuzzer，目前OSS-Fuzz仅支持C和C++语言。  </p>
<h3 id="Process-Overview"><a href="#Process-Overview" class="headerlink" title="Process Overview"></a>Process Overview</h3><p>OSS-Fuzz的整个流程如下：</p>
<ul>
<li>开源项目的维护这创建一个或多个fuzz target（也就是LibFuzzer中必须重载的LLVMFuzzerTestOneInput函数），并使用OSS-Fuzz项目中的创建及测试系统对它们进行<a href="https://github.com/google/oss-fuzz/blob/master/docs/ideal_integration.md" target="_blank" rel="external">整合</a>，构建出一个待测项目。</li>
<li>OSS-Fuzz接收待测项目。</li>
<li>当ClusterFuzz发现bug后，一个issue将在OSS-Fuzz的<a href="https://bugs.chromium.org/p/oss-fuzz/issues/list" target="_blank" rel="external">issue tracker</a>上面进行公布。Project owners are <strong>CC-ed</strong> to the bug report.</li>
<li>维护者修复bug。</li>
<li>ClusterFuzz自动确认已修复的bug，添加评注并关闭issue。</li>
<li>修复的7天后将被verified，90天后将会公布出来。  </li>
</ul>
<h2 id="Announcing-OSS-Fuzz-Continuous-fuzzing-for-open-source-software"><a href="#Announcing-OSS-Fuzz-Continuous-fuzzing-for-open-source-software" class="headerlink" title="Announcing OSS-Fuzz: Continuous fuzzing for open source software"></a>Announcing OSS-Fuzz: Continuous fuzzing for open source software</h2><p><a href="https://opensource.googleblog.com/2016/12/announcing-oss-fuzz-continuous-fuzzing.html" target="_blank" rel="external">参考链接</a> </p>
<blockquote>
<p>In recent years, several efficient general purpose fuzzing engines have been implemented (e.g. AFL and libFuzzer), and we use them to fuzz various components of the Chrome browser. These fuzzers, when combined with <strong>Sanitizers</strong>, can help find <strong>security vulnerabilities</strong> (e.g. buffer overflows, use-after-free, bad casts, integer overflows, etc), <strong>stability bugs</strong> (e.g. null dereferences, memory leaks, out-of-memory, assertion failures, etc) and sometimes even <strong>logical bugs</strong>.  </p>
</blockquote>
<p>文中说<a href="https://github.com/google/oss-fuzz" target="_blank" rel="external">OSS-Fuzz</a>将包含多种多样的模糊测试引擎（一开始是LibFuzzer），以及各种Sanitizers（一开始是AddressSanitizer），并且提供了一个由<a href="https://github.com/google/oss-fuzz/blob/master/docs/clusterfuzz.md" target="_blank" rel="external">ClusterFuzz</a>组成的大规模分布式执行环境。  </p>
<p><mark><strong><em>这里简介一下ClusterFuzz：</em></strong></mark><br>ClusterFuzz是位于OSS-Fuzz的后端，一开始是为了规模化的测试Chrome用的。ClusterFuzz将提供（貌似开发工作正在进行中）一个web interface来查看目标程序的测试情况（如：速度、覆盖信息、内存使用情况、crash信息）。<br><img src="https://raw.githubusercontent.com/google/oss-fuzz/master/docs/images/freetype_stats.png" alt="fuzzer states">  </p>
<p>提供的coverage报告会中还会高亮标记源代码中覆盖到的语句。<br><img src="https://raw.githubusercontent.com/google/oss-fuzz/master/docs/images/freetype_coverage_1.png" alt="coverage report 1">  </p>
<p>高亮标记<br><img src="https://raw.githubusercontent.com/google/oss-fuzz/master/docs/images/freetype_coverage_2.png" alt="coverage report 2">  </p>
<p>crash报告中，含有stack trace、导致crash的样本、bug有可能发生的位置等。<br><img src="https://raw.githubusercontent.com/google/oss-fuzz/master/docs/images/pcre2_testcase.png" alt="crash report"></p>
<h3 id="Early-successes"><a href="#Early-successes" class="headerlink" title="Early successes"></a>Early successes</h3><p>这一部分讲述了开发者使用OSS-FUZZ得到了很好的结果，开发者的其中一个测试目标为<a href="https://www.freetype.org/" target="_blank" rel="external">FreeType</a>，开发者构建了一个<a href="http://git.savannah.gnu.org/cgit/freetype/freetype2.git/tree/src/tools/ftfuzzer/ftfuzzer.cc" target="_blank" rel="external">FreeTypeFuzzer</a>仅在源代码更新后的几个小时之内就发现了一个新的heap buffer overflow的漏洞。之后OSS-Fuzz通知相关的漏洞修补人员，最后OSS-Fuzz将自动的对修补后的结果进行确认。所有的过程在一天之内就完成了。  </p>
<h3 id="Contributions"><a href="#Contributions" class="headerlink" title="Contributions"></a>Contributions</h3><p>OSS-Fuzz已经发现了150个<a href="https://bugs.chromium.org/p/oss-fuzz/issues/list?can=1&amp;q=-component%3AInfra+-status%3ADuplicate%2CWontFix&amp;sort=-id&amp;colspec=ID+Type+Component+Status+Library+Reported+Owner+Summary&amp;cells=ids" target="_blank" rel="external">bug</a>（每周能产生4万亿个测试用例）。  </p>
<h1 id="。。。。。。继续跟踪调研中。。。。。。。"><a href="#。。。。。。继续跟踪调研中。。。。。。。" class="headerlink" title="。。。。。。继续跟踪调研中。。。。。。。"></a>。。。。。。继续跟踪调研中。。。。。。。</h1></div><script type="text/javascript" src="/MyBlog/js/share.js?v=0.0.0" async></script><a data-url="http://mayfeelyang.github.io/MyBlog/2016/12/14/OSS-FUZZ相关调研/" data-id="cix1hvk7t0006qfc0ncehnk49" class="article-share-link">分享到</a><div class="tags"><a href="/MyBlog/tags/fuzz/">fuzz</a><a href="/MyBlog/tags/oss/">oss</a></div><div class="post-nav"><a href="/MyBlog/2016/12/14/Notes/js/highlight.pack/" class="pre"></a><a href="/MyBlog/2016/12/05/Driller-AugmentingFuzzingThroughSelectiveSymbolicExecution-阅读笔记/" class="next">Driller:AugmentingFuzzingThroughSelectiveSymbolicExecution-阅读笔记</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/MyBlog/categories/CTF相关/">CTF相关</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/MyBlog/categories/Preparation-编程基础/">Preparation - 编程基础</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/MyBlog/categories/模糊测试/">模糊测试</a><span class="category-list-count">3</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/MyBlog/tags/symbolic-execution/" style="font-size: 15px;">symbolic execution</a> <a href="/MyBlog/tags/C/" style="font-size: 15px;">C++</a> <a href="/MyBlog/tags/ELF/" style="font-size: 15px;">ELF</a> <a href="/MyBlog/tags/fuzz/" style="font-size: 15px;">fuzz</a> <a href="/MyBlog/tags/driller/" style="font-size: 15px;">driller</a> <a href="/MyBlog/tags/oss/" style="font-size: 15px;">oss</a> <a href="/MyBlog/tags/markdown/" style="font-size: 15px;">markdown</a> <a href="/MyBlog/tags/symfuzz/" style="font-size: 15px;">symfuzz</a> <a href="/MyBlog/tags/symbolic-analysis/" style="font-size: 15px;">symbolic analysis</a> <a href="/MyBlog/tags/BAP/" style="font-size: 15px;">BAP</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/MyBlog/2016/12/29/Notes/MarkNotes 帮助/">Notes/MarkNotes 帮助</a></li><li class="post-list-item"><a class="post-list-link" href="/MyBlog/2016/12/29/Notes/category_应用/">Notes/category_应用</a></li><li class="post-list-item"><a class="post-list-link" href="/MyBlog/2016/12/29/Notes/category_帮助/">Notes/category_帮助</a></li><li class="post-list-item"><a class="post-list-link" href="/MyBlog/2016/12/29/Notes/index/">Notes/index</a></li><li class="post-list-item"><a class="post-list-link" href="/MyBlog/2016/12/29/Notes/About/">Notes/About</a></li><li class="post-list-item"><a class="post-list-link" href="/MyBlog/2016/12/29/Notes/settings/">Notes/settings</a></li><li class="post-list-item"><a class="post-list-link" href="/MyBlog/2016/12/29/Notes/category_help/">Notes/category_help</a></li><li class="post-list-item"><a class="post-list-link" href="/MyBlog/2016/12/29/Notes/Markdown Quick Reference/">Notes/Markdown Quick Reference</a></li><li class="post-list-item"><a class="post-list-link" href="/MyBlog/2016/12/29/Notes/category_apps/">Notes/category_apps</a></li><li class="post-list-item"><a class="post-list-link" href="/MyBlog/2016/12/29/Notes/Markdown 快速参考/">Notes/Markdown 快速参考</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/MyBlog/." rel="nofollow">菜鸟の日常.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/MyBlog/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/MyBlog/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/MyBlog/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/MyBlog/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/MyBlog/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" src="/MyBlog/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/MyBlog/js/smartresize.js?v=0.0.0"></script></div></body></html>